<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

<!--@elvariable id="members" type="java.util.List<de.l3s.learnweb.user.User>"-->
<!--@elvariable id="userDetailsHidden" type="java.lang.Boolean"-->
<!--@elvariable id="showMembersBeanCounts" type="java.lang.Boolean"-->

    <ui:repeat var="user" value="#{members}" varStatus="status">
        <div class="#{status.first ? 'pb-3 border-bottom' : (status.last ? 'pt-3' : 'py-3 border-bottom') }">
            <ui:fragment rendered="#{userDetailsHidden}">
                <h:outputText value="This information is hidden due to the privacy settings of your organisation." styleClass="m-2 d-block"/>
            </ui:fragment>

            <ui:fragment rendered="#{not userDetailsHidden}">
                <ui:decorate template="/WEB-INF/templates/blocks/user/member-details.xhtml">
                    <ui:param name="user" value="#{user}"/>
                    <ui:param name="showMembersBeanCounts" value="#{showMembersBeanCounts}"/>
                </ui:decorate>
            </ui:fragment>
        </div>
    </ui:repeat>
</ui:composition>
