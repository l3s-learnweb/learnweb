<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="jakarta.faces.core"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets"
      lang="en" data-bs-theme="auto" data-color-theme="emerald">

    <!--@elvariable id="pageTitle" type="java.lang.String"-->

    <f:view contentType="text/html" transient="true">
        <ui:insert name="metadata"/>

        <h:head>
            <ui:include src="parts/head.xhtml"/>
            <title><h:outputText value="#{pageTitle} - " escape="false" rendered="#{!empty pageTitle}"/>#{config.appName}</title>

            <h:outputScript library="primefaces" name="jquery/jquery.js"/>
            <h:outputScript name="learnweb/js/layout.js"/>
        </h:head>

        <h:body styleClass="layout-body template-page">
            <f:facet name="last">
                <h:outputStylesheet name="bundle/learnweb.main.css"/>
            </f:facet>

            <div class="layout-wrapper layout-wrapper-sidebar-inactive">
                <nav class="navbar sticky-top navbar-expand-sm navbar-dark bg-primary shadow">
                    <h:form id="navbar_form" styleClass="container">
                        <a href="#{request.contextPath}/" class="navbar-brand">
                            <h:graphicImage library="images" name="learnweb_logo.png" alt="#{config.appName}"/>
                        </a>
                    </h:form>
                </nav>

                <div class="layout-main d-flex flex-column" id="main">
                    <main class="layout-main-content ui-fluid">
                        <ui:insert name="center_layout">
                            <div class="container my-3">
                                <ui:insert name="container_layout"/>
                            </div>
                        </ui:insert>
                    </main>

                    <ui:include src="parts/footer.xhtml"/>
                </div>
            </div>

            <!-- This is required to make back button reload the page, after ajax error occured -->
            <h:outputScript>window.history.pushState(null, null); window.onpopstate = () => window.location.reload();</h:outputScript>
        </h:body>
    </f:view>
</html>
