<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" lang="#{userBean.localeCode}">

<ui:composition>


	<div id="firstbar">
		
		<script type="text/javascript">
			function removeViewstate(searchForm)
			{
				$(searchForm).find("[name='javax.faces.ViewState']").remove();
			}
		
		</script>
		<form action="#{request.contextPath}/search.jsf" method="get" style="height:100%; float:left; vertical-align: middle" onsubmit="removeViewstate(this);">
			<input type="search" name="query" value="#{searchBean.query}" size="50" maxlength="100" id="searchfield" />
			<input type="hidden" name="action" value="image" />
			<input type="submit" value=" " id="searchbutton" title="#{msg.searchLabel}" />
		</form>
		
		<div class="userbar">
			<ul>
				<li>
					<a href="#{request.contextPath}/lw/myhome/resources.jsf" id="myresources">
						<h:outputText value="#{msg.myResourcesTitle}"/>
					</a>
				</li>
				<li>
					<a href="#{request.contextPath}/lw/myhome/groups.jsf" id="mygroups">
						<h:outputText value="#{msg.myGroups}"/>
					</a>
				</li>
				<li>
					<a href="#{request.contextPath}/lw/myhome/activity.jsf" id="activitystream">
						<h:outputText value="#{msg.activity_stream}"/>
					</a>
				</li>
				<li>
					<a href="#{request.contextPath}/lw/user/detail.jsf" id="profile">
						<h:outputText value="#{msg.myProfileTitle}"/>
					</a>
				</li>
				<li>
					<img alt="" src="#{request.contextPath}/resources/main-template/dropdownmenu.png" height="28" width="28" style="vertical-align: middle" class="menu"/>
					
					<ul>
						<li class="menupoint">
							<h:outputText value="#{msg.my_stuff}"/>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/myhome/resources.jsf" class="link" id="moremyresources">
								<h:outputText value="#{msg.myResourcesTitle}"/>
							</a>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/myhome/groups.jsf" class="link" id="moremygroups">
								<h:outputText value="#{msg.myGroups}"/>
							</a>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/myhome/activity.jsf" class="link" id="moreactivitystream">
								<h:outputText value="#{msg.activity_stream}"/>
							</a>
						</li>
						<li class="menupoint">
							<h:outputText value="#{msg.settings}"/>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/user/detail.jsf" class="link" id="moreprofile">
								<h:outputText value="#{msg.myProfileTitle}"/>
							</a>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/myhome/services.jsf" class="link">
								<h:outputText value="#{msg.web2_0services}"/>
							</a>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/user/login.jsf" class="link" id="login">#{msg.loginLabel}</a>
						</li>
						<li>
							<a href="#" class="link" id="logout">
								<h:outputText value="#{msg.logoutLabel}"/>
							</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>	
		
		<div id="language_selector">

				<img alt="" src="#{request.contextPath}/resources/main-template/flag_#{userBean.localeCode}.png" />
			
			<h:form>
				<ul>
					<li><h:commandLink actionListener="#{userBean.setLocaleCode('de')}" styleClass="language_de">Deutsch</h:commandLink></li>
					<li><h:commandLink actionListener="#{userBean.setLocaleCode('en')}" styleClass="language_en">English</h:commandLink></li>
					<li><h:commandLink actionListener="#{userBean.setLocaleCode('it')}" styleClass="language_it">Italiano</h:commandLink></li>
					<li><h:commandLink actionListener="#{userBean.setLocaleCode('pt')}" styleClass="language_pt">PortuguÃªs</h:commandLink></li>
				</ul> 
			</h:form>
		</div>
		
		<img alt="" src="#{request.contextPath}/resources/main-template/question.png" id="informationonscreen" />
		<span>			
			<h:outputLink id="loginbutton" value="#{request.contextPath}/lw/user/login.jsf" rendered="#{not userBean.loggedIn}">
				#{msg.loginLabel}
			</h:outputLink>
			
			<h:form>
				<h:commandLink action="#{loginBean.logout}" rendered="#{userBean.loggedIn}" immediate="true">
					<img alt="#{msg.logoutLabel}" src="#{request.contextPath}/resources/main-template/logout.png" height="25" width="25" id="logoutbutton" />							
				</h:commandLink>
			</h:form>
		</span>
	</div>

	<div id="secondbar">
		<a href="#" id="backtogroup">
			<h:outputText value="#{msg.back_to}"/>
		</a>
		<span class="resourcestype">
			<a href="#" id="web" class="activeResource">
				<h:outputText value="#{msg.web}"/>
			</a>
			<a href="#" id="images" class="non-activeResource">
				<h:outputText value="#{msg.Images}"/>
			</a>
			<a href="#" id="videos" class="non-activeResource">
				<h:outputText value="#{msg.Videos}"/>
			</a>
			<a href="#" id="more_option" class="non-activeResource">
				<h:outputText value="#{msg.more_options}"/>
			</a>
		</span>
	</div>
	
	<ui:insert name="options_panel"></ui:insert>

</ui:composition>

</html>