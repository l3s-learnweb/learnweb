<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:p="http://primefaces.org/ui" 
	lang="#{userBean.localeCode}">

<f:view locale="#{userBean.localeCode}" contentType="text/html">
	<ui:insert name="metadata" />

	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>#{pageTitle} - Learnweb</title>
		<link rel="shortcut icon" href="#{request.contextPath}/resources/icon/favicon.ico" />
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/main-template/fixed_header.css" />
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/main-template/responsive_design.css" />

		<h:outputScript library="primefaces" name="jquery/jquery.js" />
		<h:outputScript library="main-template" name="responsive_menu.js" />

		<base href="#{request.contextPath}/" />
	</h:head>

	<h:body>

		<header>

			<ui:decorate template="/templates/header.xhtml"></ui:decorate> 

		</header>

		<section>
			<div class="content">
				<p:messages id="message"></p:messages>

				<h:panelGroup layout="block" id="middle" rendered="#{loginRequired and !userBean.loggedIn}">
					<p:panel header="#{msg.loginRequiredTitle}">
						<p>
							<h:outputText value="#{msg.loginRequiredText}" />
						</p>
						<ui:include src="/lw/templates/login_form.xhtml" />
					</p:panel>
				</h:panelGroup>

				<h:panelGroup rendered="#{!loginRequired || userBean.loggedIn}">
					<ui:insert name="center_layout"></ui:insert>
				</h:panelGroup>
			</div>
		</section>

	</h:body>
</f:view>

</html>