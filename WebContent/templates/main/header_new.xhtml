<html xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
        xmlns:pp="http://primefaces.org/california">

<ui:composition>

<div class="layout-wrapper layout-wrapper-sidebar-inactive">
<div class="layout-topbar">
	<header id="header">
		<div id="main_menu_bar" style="#{userBean.bannerImage}">

			<img src="#{request.contextPath}/resources/main-template/img/ajax-loader.gif" alt="Loading" id="loadingsymbol"/>
			<p:ajaxStatus onstart="document.getElementById('loadingsymbol').style.visibility='visible';"
				onsuccess="document.getElementById('loadingsymbol').style.visibility='hidden';" />

			<form action="#{request.contextPath}/lw/search.jsf" method="get" onsubmit="removeViewstate(this);" id="searchform">
				<a href="#{userBean.bannerLink}" id="learnweb_logo">
					Logo
				</a>
				<input type="search" name="query" value="#{searchBean.query}" size="50" maxlength="100" id="searchfield" />
				<input type="hidden" name="action" value="#{searchBean.queryMode}" />
				<input type="submit" value=" " id="searchbutton" title="#{msg.searchLabel}" />
			</form>

			<ui:fragment rendered="#{userBean.loggedIn}">
				<div class="userbar">
					<ul>
						<li>
							<a href="#{request.contextPath}/lw/myhome/resources.jsf" id="myresources">
								<h:outputText value="#{msg.myResourcesTitle}" />
							</a>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/myhome/groups.jsf" id="mygroups">
								<h:outputText value="#{msg.groupOverview}" />
							</a>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/myhome/activity.jsf" id="activitystream">
								<h:outputText value="#{msg.activity_stream}" />
							</a>
						</li>
						<li>
							<a href="#{request.contextPath}/lw/myhome/profile.jsf" id="profile">
								<h:outputText value="#{msg.myProfileTitle}" />
							</a>
						</li>
						<li>
							<img alt="" src="#{request.contextPath}/resources/main-template/img/dropdownmenu.png" height="28" width="28"
								class="menu" tabindex="0" />

							<ul>
								<li class="menupoint">
									<h:outputText value="#{msg.my_stuff}" />
								</li>

								<li>
									<a href="#{request.contextPath}/lw/myhome/resources.jsf" id="moremyresources">
										<h:outputText value="#{msg.myResourcesTitle}" />
									</a>
								</li>
								<li>
									<a href="#{request.contextPath}/lw/myhome/groups.jsf" id="moremygroups">
										<h:outputText value="#{msg.groupOverview}" />
									</a>
								</li>
								<li>
									<a href="#{request.contextPath}/lw/myhome/activity.jsf" id="moreactivitystream">
										<h:outputText value="#{msg.activity_stream}" />
									</a>
								</li>
								<li>
									<a href="#{request.contextPath}/lw/myhome/profile.jsf" id="moreprofile">
										<h:outputText value="#{msg.myProfileTitle}" />
									</a>
								</li>
								<li>
									<a href="#{request.contextPath}/lw/myhome/comments.jsf">
										<h:outputText value="#{msg.myCommentsTitle}" />
									</a>
								</li>
								<li>
									<a href="#{request.contextPath}/lw/myhome/tags.jsf">
										<h:outputText value="#{msg.myTags}" />
									</a>
								</li>
								<li>
									<h:outputLink value="#{request.contextPath}/lw/myhome/submission_overview.jsf">
										#{msg['Submission.my_submissions']}
									</h:outputLink>
								</li>
								<li>
									<a href="#{request.contextPath}/lw/myhome/notification.jsf">
										<h:outputText value="#{msg.notification}" />
									</a>
								</li>
								<li>
									<a href="#{request.contextPath}/lw/admin/dashboard/user.jsf">
										<h:outputText value="My Dashboard" />
									</a>
								</li>
								<li>
									<h:outputLink value="#{request.contextPath}/lw/searchHistory/entityRelationship.jsf">
										<f:param name="user_id" value="#{userBean.user.id}" />
										<h:outputText value="#{msg.search_history}" escape="false"/>
									</h:outputLink>
								</li>
								
								<li>
									<a href="#{request.contextPath}/lw/user/login.jsf" id="login">
										#{msg.loginLabel}
									</a>
								</li>
								<li>
									<h:form id="logout">
										<h:commandLink action="#{loginBean.logout}" rendered="#{userBean.loggedIn}" immediate="true"
											title="#{msg.logoutLabel}" value="#{msg.logoutLabel}" />
									</h:form>
								</li>
								<ui:fragment rendered="#{userBean.admin}">

									<li>
										<a href="#{request.contextPath}/lw/myhome/services.jsf">
											<h:outputText value="#{msg.web2_0services}" />
										</a>
									</li>

									<li class="menupoint">
										<h:outputText value="#{msg.admin}" />
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/organisations.jsf">
											<h:outputText value="Organisations" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/banlist.jsf">
											<h:outputText value="Banlist" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/requests.jsf">
											<h:outputText value="IP Requests" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/systemtools.jsf">
											<h:outputText value="System Tools" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/adminmsg.jsf">
											<h:outputText value="#{msg.admin_messages_Title}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/adminchangelog.jsf">
											<h:outputText value="#{msg.change_log}" />
										</a>
									</li>
								</ui:fragment>
								<ui:fragment rendered="#{userBean.moderator}">
									<li class="menupoint">
										<h:outputText value="#{msg.moderator}" />
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/notification.jsf">
											<h:outputText value="#{msg.send_notification}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/users.jsf">
											<h:outputText value="#{msg.users}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/courses.jsf">
											<h:outputText value="#{msg.courses}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/organisation.jsf">
											<h:outputText value="#{msg.organization}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/text_analysis.jsf">
											<h:outputText value="#{msg.text_analysis}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/statistics.jsf">
											<h:outputText value="#{msg.statistics}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/detailed_transcript_log.jsf">
											<h:outputText value="#{msg.detailed_transcript_log}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/simple_transcript_log.jsf">
											<h:outputText value="#{msg.simple_transcript_log}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/transcript_summary.jsf">
											<h:outputText value="#{msg.transcript_summaries}" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/dashboard/glossary.jsf">
											<h:outputText value="Glossary Dashboard" />
										</a>
									</li>
									<li>
										<a href="#{request.contextPath}/lw/admin/dashboard/activity.jsf">
											<h:outputText value="#{msg.activity_dashboard}" />
										</a>
									</li>
								</ui:fragment>
							</ul>
						</li>
					</ul>
				</div>
			</ui:fragment>

			<ui:fragment rendered="#{userBean.languageSwitchEnabled}">
				<div id="language_selector" class="hover-white" tabindex="0">
					<img alt="#{userBean.localeCode}" src="#{request.contextPath}/resources/main-template/img/flag_#{userBean.localeCode}.png" />

					<h:form>
						<ul>
							<li>
								<h:commandLink action="#{userBean.setLocaleCode('de')}" styleClass="language_de">
									Deutsch
								</h:commandLink>
							</li>
							<li>
								<h:commandLink action="#{userBean.setLocaleCode('en')}" styleClass="language_en">
									English
								</h:commandLink>
							</li>
							<li>
								<h:commandLink action="#{userBean.setLocaleCode('it')}" styleClass="language_it">
									Italiano
								</h:commandLink>
							</li>
							<li>
								<h:commandLink action="#{userBean.setLocaleCode('pt')}" styleClass="language_pt">
									PortuguÃªs
								</h:commandLink>
							</li>
							<ui:fragment rendered="#{userBean.admin}">
							<li>
								<h:commandLink action="#{userBean.setLocaleCode('xx')}">
									Developer
								</h:commandLink>
							</li>
							</ui:fragment>
						</ul>
					</h:form>
				</div>
			</ui:fragment>

			<p:graphicImage value="/resources/main-template/img/question.png" alt="#{msg.help}" onclick="footerToggle();"
				rendered="#{not empty helpText}" id="informationonscreen" />

			<h:outputLink value="#{request.contextPath}/lw/myhome/notification.jsf" rendered="#{userBean.loggedIn}" id="message_div">
				<h:outputText value="#{messageBean.howManyNewMessages}" rendered="#{messageBean.howManyNewMessages gt 0}"
					id="message_count"/>

				<img alt="message" src="#{request.contextPath}/resources/main-template/img/message.png" id="message_button"
					class="header_buttons hover-white"/>
			</h:outputLink>

			<h:outputLink id="loginbutton" value="#{request.contextPath}/lw/user/login.jsf" rendered="#{not userBean.loggedIn}"
				class="hover-white">
				#{msg.loginLabel}
			</h:outputLink>

			<h:form>
				<h:commandLink action="#{loginBean.logout}" rendered="#{userBean.loggedIn}" immediate="true" title="#{msg.logoutLabel}">
					<img alt="#{msg.logoutLabel}" src="#{request.contextPath}/resources/main-template/img/logout.png" id="logoutbutton"
						class="header_buttons hover-white" />
				</h:commandLink>
			</h:form>


		</div>
    </header>
</div>
</div>






	<script type="text/javascript">
		var market = '#{userBean.localeCode}';
	</script>

</ui:composition>

</html>