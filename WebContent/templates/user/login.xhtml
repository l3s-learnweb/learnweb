<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition>
		<p:panel header="#{msg.loginTitle}" id="loginForm">
			<p:focus context="loginForm"/>

			<div class="row">
				<div class="col-md-4">
					<h:form rendered="#{!userBean.loggedIn}" styleClass="pb-4">
						<div class="form-group">
							<p:outputLabel for="@next" value="#{msg.username}:"/>
							<p:inputText id="username" value="#{loginBean.username}" label="#{msg.username}" required="true"/>
							<p:message for="@previous"/>
						</div>

						<div class="form-group">
							<p:outputLabel for="@next" value="#{msg.password}:"/>
							<p:password id="password" value="#{loginBean.password}" label="#{msg.password}" required="true"/>
							<p:message for="@previous"/>
						</div>

						<h:panelGroup layout="block" styleClass="form-group" rendered="#{loginBean.captchaRequired}">
							<p:outputLabel for="@next" value="#{msg.captcha}:" styleClass="d-none"/>
							<p:captcha id="captcha" label="#{msg.captcha}" language="#{userBean.locale}" required="true"/>
							<p:message for="@previous"/>
						</h:panelGroup>

						<p:commandButton action="#{loginBean.login()}" value="#{msg.loginLabel}" ajax="false"/>
					</h:form>

					<h:outputText rendered="#{userBean.loggedIn}" value="#{msg.you_are_already_logged_in}" styleClass="font-weight-bold"/>

					<h:outputLink value="#{request.contextPath}/lw/user/password.jsf" styleClass="d-block">#{msg.forgotten_password}</h:outputLink>
					<h:outputLink value="#{request.contextPath}/lw/user/register.jsf" styleClass="d-block">#{msg.registerLabel}</h:outputLink>
				</div>
			</div>
		</p:panel>
	</ui:composition>
</html>