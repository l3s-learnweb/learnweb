<html xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:p="http://primefaces.org/ui">

<!--@elvariable id="user" type="de.l3s.learnweb.User"-->
<!--@elvariable id="userDetailsHidden" type="java.lang.Boolean"-->

<ui:composition>


	<p:panel header="#{groupMembersBean.clickedUser eq null ? msg.user_details : groupMembersBean.clickedUser.username}" id="right_pane">

		<h:outputText value="This information is hidden due to the privacy settings of your organization." rendered="#{userDetailsHidden}" />

		<p:panelGrid columns="2" styleClass="d-flex" rendered="#{not userDetailsHidden}">
			<f:facet name="header" >
				<img   src="${learnwebBean.getProfileImage(user)}" id="profile_image" alt="profile image" />
			</f:facet>
			<h:outputText value="#{msg.username}:" />
			<h:outputText id="username" value="#{user.username}" />

			<h:outputText value="#{msg.email_address}:" rendered="#{not empty user.email}"/>
			<h:outputText value="#{user.email}" rendered="#{not empty user.email}"/>

			<h:outputText value="#{msg.gender}:" />
			<h:outputText value="-" rendered="#{user.gender == 0}" />
			<h:outputText value="#{msg.gender_male}" rendered="#{user.gender == 1}" />
			<h:outputText value="#{msg.gender_female}" rendered="#{user.gender == 2}" />

			<h:outputText value="#{msg.address}:" rendered="#{not empty user.address}"/>
			<h:outputText value="#{user.address}" rendered="#{not empty user.address}"/>

			<h:outputText value="#{msg.profession}:" rendered="#{not empty user.profession}"/>
			<h:outputText value="#{user.profession}" rendered="#{not empty user.profession}"/>

			<h:outputText value="#{msg.interest}:" rendered="#{not empty user.interest}" />
			<h:outputText value="#{user.interest}" rendered="#{not empty user.interest}" />

			<h:outputText value="#{msg.additionalinformation}:" rendered="#{not empty user.additionalInformation}" />
			<h:outputText value="#{user.additionalInformation}" rendered="#{not empty user.additionalInformation}" />

			<h:outputText value="#{msg.registered_since}:" />
			<h:outputText value="#{user.registrationDate}">
				<f:convertDateTime dateStyle="default" type="date" timeZone="#{userBean.timeZone}" />
			</h:outputText>
		</p:panelGrid>
	</p:panel>

	<ui:fragment rendered="#{learnwebBean.learnweb.service != 'AMA'}">

	<p:panel id="group_table" header="#{msg.groupsTitle} #{msg.of} #{user.username}">
		<p:repeat var="group" value="#{user.groups}">
			<h:panelGrid>
			<div class="float-left" style="float:left;">
				<h:outputLink value="group/overview.jsf">
					<f:param name="group_id" value="#{group.id}" />
					<h:outputText value="#{group.title}" />
				</h:outputLink>
			</div>
			</h:panelGrid>
		</p:repeat>
	</p:panel>
	</ui:fragment>

	<ui:fragment rendered="#{not empty user.credits}">
		<p:panel header="#{msg.awards}">
			<h:outputText value="#{user.credits}" escape="false"/>
		</p:panel>
	</ui:fragment>

	<ui:fragment rendered="${userBean.canModerateCourses(user.courses)}">
		<p:panel header="#{msg.moderator_options}">
			<h:outputLink value="myhome/profile.jsf">
				<f:param name="user_id" value="#{user.id}" />
				<h:outputText value="#{msg.edit_profile}" escape="false"/>
			</h:outputLink>
			<br/>
			<h:outputLink value="searchHistory/entityRelationship.jsf" target="_blank">
				<f:param name="user_id" value="#{user.id}" />
				<h:outputText value="#{msg.search_history}" escape="false"/>
			</h:outputLink>
		</p:panel>
	</ui:fragment>
	
</ui:composition>
</html>