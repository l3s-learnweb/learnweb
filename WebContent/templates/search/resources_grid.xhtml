<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition> 

	<ui:repeat var="res" value="#{resources}" >
		<div class="resource" id="resource_${res.tempId}">
			<h:panelGroup styleClass="#{res.newResource ? 'grid_newResource' : 'oldResource'}">
				<div class="border">
					<div class="stretchy-wrapper">
						<div class="smallImage" style="background-image:url(${res.thumbnail2.url});">
							<h:outputText value="#{res.durationInMinutes}" styleClass="duration" rendered="#{res.resource.duration > 0}" />
						</div>
					</div>
					<div class="title"><h:outputText value="${res.title}" escape="false" /></div> 
				</div>
			</h:panelGroup>
						
			<div id="resource_${res.tempId}_preview" class="preview" style="max-width:${res.thumbnail2.width>160? res.thumbnail2.width:180 }px;">
				<img src="${res.thumbnail2.url}" height="${res.thumbnail2.height}" width="${res.thumbnail2.width}" class="mediumImage" />
				<div class="title"><h:outputText value="${res.title}" escape="false" /></div>
				<div class="description">
					<h:outputText value="${res.shortSnippet}" escape="false" />
				</div>
				<div class="location">
					<h:outputLink value="${res.url}">
						<img src="#{learnwebBean.contextUrl}#{res.serviceIcon}" alt="${res.location}" height="16" width="16"/> <h:outputText value="${res.location}" />
					</h:outputLink>
				</div>
			</div>
			
			<ui:decorate  template="/templates/search/resource_metadata.xhtml">
				<ui:param name="res" value="#{res}" />
			</ui:decorate>			
		</div>		
		
	</ui:repeat>

</ui:composition>
</html>