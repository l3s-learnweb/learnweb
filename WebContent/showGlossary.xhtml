<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	lang="#{userBean.localeCode}">

	
	<ui:composition template="/templates/main/main.xhtml">
		<ui:param name="pageTitle" value="showGlossary" />
		
		
		<ui:define name="center_layout">
	
			<link rel="stylesheet" href="Glossary.css"/>
			
			<br/>
			<br/>
			<br/>
			
			<h:form>
			
				<p:dataTable value="#{glossaryBean.entries}" var="entry" column="4" styleClass="glossary"  emptyMessage="#{msg.no_results_found}"> 
				
					<p:column sortBy="#{entry.item}" filterBy="#{entry.item}" filterMatchMode="contains" styleClass="filter">
						<f:facet name="header">
			     			 <h:outputText value="#{msg.item}"></h:outputText>
			    		</f:facet>
							<h:outputText value="#{entry.item}" styleClass="data"></h:outputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.description}"></h:outputText>
						</f:facet>
						<h:outputText value="#{entry.description}" styleClass="data"></h:outputText>
					</p:column>
					
					<p:column filterBy="#{entry.topic}" filterMatchMode="contains" styleClass="filter">
						<f:facet name="header">
							<h:outputText value="#{msg.topic}" ></h:outputText>
						</f:facet>
						<h:outputText value="#{entry.topic}" styleClass="data"></h:outputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.language_it}"></h:outputText>
						</f:facet>
						<h:outputText value="#{entry.italian}" styleClass="data"></h:outputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.language_de}"></h:outputText>
						</f:facet>
						<h:outputText value="#{entry.german}" styleClass="data"></h:outputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.language_es}"></h:outputText>
						</f:facet>
						<h:outputText value="#{entry.spanish}" styleClass="data"></h:outputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.reference_material}"></h:outputText>
						</f:facet>
						<a href="#{entry.reference}">#{entry.reference}</a>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.added_by}"></h:outputText>
						</f:facet>
							<h:outputText value="#{entry.addby}" styleClass="data">#{entry.user.username}</h:outputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.last_modified}"></h:outputText>
						</f:facet>
							<h:outputText value="#{entry.lastModified}">
           					 	<f:convertDateTime type="both" timeStyle="short" dateStyle="long"  timeZone="#{userBean.timeZone}"/>
       						 </h:outputText>						
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.options}"></h:outputText>
						</f:facet>
						<h:commandButton id="edit" action="${glossaryBean.edit(entry)}" value="#{msg.edit}" styleClass="greenbutton"></h:commandButton>
						<h:commandButton id="delete" action="${glossaryBean.deleteEntry(entry)}" value="#{msg.delete}" styleClass="greenbutton">
						</h:commandButton>
					</p:column>
					
				</p:dataTable>
				</h:form>
				<br/>
				<br/>
				<br/>
				<br/>
				
				<hr/>
				
				<br/>
				<br/>
		<h:form>
		<h:panelGrid id="grid" columns="3" styleClass="grid">
			
				<h:outputLabel value="#{msg.item}" for="item" styleClass="datatype"></h:outputLabel>
				<h:inputText id="item" value="#{glossaryBean.selectedEntry.item}" styleClass="inputfield" validatorMessage="The item may not be empty. Please enter an item. "></h:inputText>
				<p:message for="item" />
				
				<h:outputLabel value="#{msg.description}" for="description" styleClass="datatype"></h:outputLabel>
				<h:inputTextarea id="description" value="#{glossaryBean.selectedEntry.description}" styleClass="inputarea"></h:inputTextarea>
				<p:message for="description" />
				
				<h:outputLabel value="#{msg.topic}" for="topic" styleClass="datatype"></h:outputLabel>
				<h:inputText id="topic" value="#{glossaryBean.selectedEntry.topic}" styleClass="inputfield"></h:inputText>
				<p:message for="topic" />
				
				<h:outputLabel value="#{msg.language_it}" for="italian" styleClass="datatype"></h:outputLabel>
				<h:inputText id="italian" value="#{glossaryBean.selectedEntry.italian}" styleClass="inputfield"></h:inputText>
				<p:message for="italian" />
				
				<h:outputLabel value="#{msg.language_de}" for="german" styleClass="datatype"></h:outputLabel>
				<h:inputText id="german" value="#{glossaryBean.selectedEntry.german}" styleClass="inputfield"></h:inputText>
				<p:message for="german" />
				
				<h:outputLabel value="#{msg.language_es}" for="spanish" styleClass="datatype"></h:outputLabel>
				<h:inputText id="spanish" value="#{glossaryBean.selectedEntry.spanish}" styleClass="inputfield"></h:inputText>
				<p:message for="spanish" />
				
				<h:outputLabel value="#{msg.reference_material}" for="reference_material" styleClass="datatype"></h:outputLabel>
				<h:inputText id="reference_material" value="#{glossaryBean.selectedEntry.reference}" styleClass="inputfield" validatorMessage="#{msg.linkvalidator_message}"></h:inputText>
				<p:message for="reference_material" />
							
		</h:panelGrid>
			
			<br/>
			<br/>
			
			<h:commandButton id="new_entry" action="#{glossaryBean.addNewEntry}" value="#{msg.new_entry}" styleClass="greenbutton">
			</h:commandButton>
				
			</h:form>
		</ui:define>
		
	</ui:composition>
</html>