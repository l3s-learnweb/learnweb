<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:pc="http://primefaces.org/california">

    <div class="layout-sidebar #{guestPreferences.darkMenu ? 'layout-sidebar-dark' : ''} #{guestPreferences.gradientMenu ? 'layout-sidebar-gradient': ''}">
        <div id="nano-container" class="nano">
            <div class="nano-content sidebar-scroll-content">

                <h:form id="menuform">


                    <p:tree id="sidebar_group_tree" value="#{userBean.groupsTreeForSidebar}" var="node" animate="true" dynamic="true"
                            selectionMode="single" selection="#{searchBean.selectedNode}">
                        <p:ajax event="select" listener="#{searchBean.onNodeSelect}"/>

                        <p:treeNode type="link" >
                            <h:outputLink title="#{node.title}" value="#{node.url}">#{node.title}</h:outputLink>
                        </p:treeNode>

                        <p:treeNode type="group" >
                            <h:outputLink title="#{node.title}" value="./myhome/resources.jsf?group_id=#{node.id}">#{node.title}</h:outputLink>
                        </p:treeNode>

                        <p:treeNode type="folder" >
                            <h:outputLink title="#{node.name}" value="./myhome/resources.jsf?folder_id=#{node.folderId}&amp;resource_id=0&amp;group_id=#{node.groupId}">#{node.name}</h:outputLink>
                        </p:treeNode>

                    </p:tree>

<!-- Mat: TODO use translated link titles, as in the old menu -->
                    <pc:menu widgetVar="me" >


                        <p:menuitem  icon="fa fa-fw fa-folder" value="My Resources" url="./myhome/resources.jsf"/>
                        <p:menuitem value="My comments" icon="fa fa-fw fa-comments" url="./myhome/comments.jsf"/>
                        <p:menuitem value="My tags" icon="fa fa-fw fa-tags" url="./myhome/tags.jsf"/>
                        <p:menuitem rendered="#{learnwebBean.learnweb.service != 'AMA'}" value="My submissions" icon="fa fa-fw fa-credit-card-alt" url="./myhome/submission_overview.jsf"/>
                        <p:menuitem rendered="#{learnwebBean.learnweb.service != 'AMA'}" value="My dashboard" icon="fa fa-fw fa-table " url="./admin/dashboard/user.jsf"/>
                        <p:menuitem rendered="#{learnwebBean.learnweb.service != 'AMA'}" value="Search history" icon="fa fa-fw fa-history" url="./searchHistory/entityRelationship.jsf?user_id=#{userBean.user.id}"/>

                        <p:submenu label="Moderator" rendered="#{userBean.user.moderator and userBean.user.id != 12476}">
                            <p:menuitem value="Send notification" icon="fa fa-fw fa-envelope-open" url="./admin/notification.jsf"/>
                            <p:menuitem value="Users" icon="fa fa-fw fa-users " url="./admin/users.jsf"/>
                            <p:menuitem value="Courses" icon="fa fa-fw fa-graduation-cap " url="./admin/courses.jsf"/>
                            <p:menuitem value="Organisation" icon="fa fa-fw fa-sitemap " url="./admin/organisation.jsf"/>
                            <p:menuitem rendered="#{learnwebBean.learnweb.service != 'AMA'}" value="Text analysis" icon="fa fa-fw fa-area-chart " url="./admin/text_analysis.jsf"/>
                            <p:menuitem value="Statistics" icon="fa fa-line-chart " url="./admin/statistics.jsf"/>
                            <p:menuitem rendered="#{learnwebBean.learnweb.service != 'AMA'}" value="Detailed Transcript Log" icon="fa fa-fw fa-language " url="./admin/detailed_transcript_log.jsf"/>
                            <p:menuitem rendered="#{learnwebBean.learnweb.service != 'AMA'}" value="Simple Transcript Log" icon="fa fa-fw fa-language " url="./admin/simple_transcript_log.jsf"/>
                            <p:menuitem rendered="#{learnwebBean.learnweb.service != 'AMA'}" value="Transcript Summaries" icon="fa fa-fw fa-language" url="./admin/transcript_summary.jsf"/>
                            <p:menuitem rendered="#{learnwebBean.learnweb.service != 'AMA'}" value="Glossary Dashboard" icon="fa fa-fw fa-bar-chart " url="./admin/dashboard/glossary.jsf"/>
                            <p:menuitem value="Activity Dashboard" icon="fa fa-line-chart" url="./admin/dashboard/activity.jsf"/>
                        </p:submenu>

                        <p:submenu label="Admin" rendered="#{userBean.user.moderator and userBean.user.id != 12476}">
                            <p:menuitem value="Organisations" icon="fa fa-fw fa-sitemap " url="./admin/organisations.jsf"/>
                            <p:menuitem value="Banlist" icon="fa fa-fw fa-area-chart " url="./admin/banlist.jsf"/>
                            <p:menuitem value="IP Requests" icon="fa fa-line-chart " url="./admin/requests.jsf"/>
                            <p:menuitem value="System Tools" icon="fa fa-fw fa-language " url="./admin/systemtools.jsf"/>
                            <p:menuitem value="News" icon="fa fa-fw fa-language" url="./admin/adminnews.jsf"/>
                        </p:submenu>

                    </pc:menu>
              



                    <p:menuitem value="Send notification" icon="fa fa-fw fa-envelope-open" url="./admin/notification.jsf"/>
                    <p:menuitem value="Users" icon="fa fa-fw fa-users " url="./admin/users.jsf"/>
                    <p:menuitem value="Courses" icon="fa fa-fw fa-graduation-cap " url="./admin/courses.jsf"/>
                    <p:menuitem value="Organisation" icon="fa fa-fw fa-sitemap " url="./admin/organisation.jsf"/>
                    <p:menuitem value="Text analysis" icon="fa fa-fw fa-area-chart " url="./admin/text_analysis.jsf"/>
                    <p:menuitem value="Statistics" icon="fa fa-line-chart " url="./admin/statistics.jsf"/>
                    <p:menuitem value="Detailed Transcript Log" icon="fa fa-fw fa-language " url="./admin/detailed_transcript_log.jsf"/>
                    <p:menuitem value="Simple Transcript Log" icon="fa fa-fw fa-language " url="./admin/simple_transcript_log.jsf"/>
                    <p:menuitem value="Transcript Summaries" icon="fa fa-fw fa-language" url="./admin/transcript_summary.jsf"/>
                    <p:menuitem value="Glossary Dashboard" icon="fa fa-fw fa-bar-chart " url="./admin/dashboard/glossary.jsf"/>
                    <p:menuitem value="Activity Dashboard" icon="fa fa-line-chart" url="./admin/dashboard/activity.jsf"/>
           
                </h:form>
            </div>
        </div>

    </div>

</ui:composition>
