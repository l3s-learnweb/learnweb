<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

<h:form id="new_folder_form">
    <div class="fg-grid mb-3">
        <ui:fragment rendered="#{addFolderBean.targetGroup != null}">
            <h:outputText value="#{msg.group}:" styleClass="ui-outputlabel"/>
            <h:outputText value="#{addFolderBean.targetGroup.title}" styleClass="fg-col"/>
        </ui:fragment>

        <ui:fragment rendered="#{addFolderBean.targetFolder != null}">
            <h:outputText value="#{msg.path}:" styleClass="ui-outputlabel"/>
            <h:outputText value="#{addFolderBean.targetFolder.prettyPath}" styleClass="fg-col"/>
        </ui:fragment>

        <p:outputLabel for="@next" value="#{msg.title}:"/>
        <div class="fg-col">
            <p:inputText value="#{addFolderBean.folder.title}" required="true" requiredmessage="#{msg.mandatory_field}"/>
            <p:message for="@previous"/>
        </div>

        <p:outputLabel for="@next" value="#{msg.description}:"/>
        <div class="fg-col">
            <p:inputTextarea value="#{addFolderBean.folder.description}" autoResize="true"/>
            <p:message for="@previous"/>
        </div>
    </div>

    <div class="d-flex">
        <p:defaultCommand target="addFolderButton"/>

        <div class="mr-auto">
            <h:outputText value="* #{msg.mandatory_field}"/>
        </div>
        <div>
            <p:commandButton value="#{msg.cancel}" styleClass="secondary-btn" update=":right_pane" immediate="true" actionListener="#{addFolderBean.reset}">
                <f:setPropertyActionListener target="#{rightPaneBean.paneAction}" value="none"/>
            </p:commandButton>

            <p:commandButton id="addFolderButton" value="#{msg.create_folder}" update=":growl :right_pane"
                             action="#{addFolderBean.addFolder}" ajax="true" oncomplete="resourceAddedHook();">
                <f:setPropertyActionListener target="#{rightPaneBean.paneAction}" value="none"/>
            </p:commandButton>
        </div>
    </div>
</h:form>

</ui:composition>