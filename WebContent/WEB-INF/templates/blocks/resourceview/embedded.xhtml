<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<!--@elvariable id="res" type="de.l3s.learnweb.resource.Resource"-->

<div class="preview-wrapper d-flex">
    <c:choose>
        <c:when test="${res.officeResource and not res.offline}">
            <ui:decorate template="/WEB-INF/templates/blocks/resourceview/embedded_office.xhtml">
                <ui:param name="res" value="#{res}"/>
            </ui:decorate>
        </c:when>

        <c:when test="${res.type eq 'video' and res.embedded ne null}">
            <h:outputText value="#{res.embedded}" escape="false"/>
        </c:when>

        <c:when test="${res.type eq 'video'}">
            <ui:decorate template="/WEB-INF/templates/blocks/resourceview/embedded_video.xhtml">
                <ui:param name="res" value="#{res}"/>
            </ui:decorate>
        </c:when>

        <c:when test="${res.type eq 'audio'}">
            <ui:decorate template="/WEB-INF/templates/blocks/resourceview/embedded_audio.xhtml">
                <ui:param name="res" value="#{res}"/>
            </ui:decorate>
        </c:when>

        <c:when test="${res.type eq 'glossary2'}">
            <ui:decorate template="/WEB-INF/templates/blocks/resourceview/embedded_glossary.xhtml">
                <ui:param name="res" value="#{res}"/>
            </ui:decorate>
        </c:when>

        <c:when test="${res.type eq 'pdf'}">
            <iframe src="#{res.url}" title="#{res.title}"></iframe>
        </c:when>

        <c:when test="${not empty res.thumbnail4}">
            <img src="#{res.thumbnail4.url}" alt="#{res.title}" class="img-fluid m-auto d-block"/>
        </c:when>

        <c:when test="${not empty res.thumbnail0}">
            <img src="#{res.largestThumbnail.url}" alt="#{res.title}" class="img-fluid m-auto d-block"/>
        </c:when>

        <c:otherwise>
            No emdedded view
        </c:otherwise>
    </c:choose>
</div>

</ui:composition>
