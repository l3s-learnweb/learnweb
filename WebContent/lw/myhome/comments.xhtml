<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/WEB-INF/templates/layout/template.xhtml">
	
		<ui:param name="loginRequired" value="true" />
		<ui:param name="pageTitle" value="#{msg.myCommentsTitle}" />
		<ui:param name="helpText" value="#{msg.myhomeCommentsHelp}"/>
		<ui:define name="sub_breadcrumb">
			<p:menuitem value="#{msg.myCommentsTitle}" url="myhome/comments.jsf#"/>
		</ui:define>
		<ui:define name="center_layout">
				<h:form prependId="false">
					<p:dataTable var="comment" value="#{userBean.user.comments}" id="comment_table">
						<f:facet name="header">
							#{msg.myCommentsTitle}
						</f:facet>
						<p:column>
							<f:facet name="header">
								#{msg.comment}
							</f:facet>
							<h:outputText value="#{comment.text}" />
						</p:column>
						
						<p:column>
							<f:facet name="header">
								#{msg.resource}
							</f:facet>
							<h:outputLink value="myhome/resources.jsf">
								<f:param name="resource_id" value="#{comment.resource.id}" />
								<f:param name="group_id" value="#{comment.resource.groupId}" />
								<h:outputText value="#{comment.resource.title}" escape="false" />
							</h:outputLink>
						</p:column>
	
						<p:column>
							<f:facet name="header">
								#{msg.date}
							</f:facet>
							<h:outputText value="#{comment.date}" >
								<f:convertDateTime dateStyle="default" type="both" />								
							</h:outputText>
						</p:column>
					</p:dataTable>
				</h:form>
	
		</ui:define>
	</ui:composition>
</html>