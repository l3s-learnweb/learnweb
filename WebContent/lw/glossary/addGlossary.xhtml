<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	lang="#{userBean.localeCode}">

	
	<ui:composition template="/templates/main/main.xhtml">
		<ui:param name="pageTitle" value="#{msg['Glossary.glossary']}" />
		<ui:param name="loginRequired" value="true" />
		
			<ui:define name="metadata">
				<f:metadata>
					<f:viewParam name="resource_id" value="#{glossaryBean.resourceId}" />
				</f:metadata>
			</ui:define>
	
		<ui:define name="center_layout">
		<h:outputStylesheet library="glossary" name="glossary.css"/>
	



	
	<br/>
	<br/>
	<div id="glossform">
	<h:form id="glossary_add" styleClass="grey_border" prependId="false" >
	<p:panelGrid id="grid" styleClass="centered-form" columns="3">
		
		<p:outputLabel for="topic_1" value="Topic 1 "></p:outputLabel>
		<p:selectOneMenu id="topic_1" value="#{glossaryBean.selectedTopicOne}" required="true" requiredMessage="Topic 1 cannot be empty">
   		 	<f:selectItem itemValue="#{null}" itemLabel="-- select --" />
    		<f:selectItems value="#{glossaryBean.availableTopicOnes}" />
    		<f:ajax listener="#{glossaryBean.changeTopicOne}" render="topic_2 topic_3" />
		</p:selectOneMenu>
		<p:message for="topic_1"/>
		
		<p:outputLabel for="topic_2" value="Topic 2 "></p:outputLabel>
		<p:selectOneMenu id="topic_2" value="#{glossaryBean.selectedTopicTwo}" required="true" requiredMessage="Topic 2 cannot be empty">
    		<f:selectItem itemValue="#{null}" itemLabel="-- select --" />
    		<f:selectItems value="#{glossaryBean.availableTopicTwos}" />
    		<f:ajax listener="#{glossaryBean.changeTopicTwo}" render="topic_3" />
		</p:selectOneMenu>
		<p:message for="topic_2"/>
		
		<p:outputLabel for="topic_3" value="Topic 3 "></p:outputLabel>
		<p:selectOneMenu id="topic_3" value="#{glossaryBean.selectedTopicThree}">
    		<f:selectItem itemValue="#{null}" itemLabel="-- select --" />
    		<f:selectItems value="#{glossaryBean.availableTopicThrees}" />
		</p:selectOneMenu>
		<h:outputText value="" />
		
		<p:outputLabel value="Description " for="description" ></p:outputLabel>
		<h:inputText id="description" value="#{glossaryBean.description}" styleClass="inputfield" required="true" requiredMessage="Description can not be empty"/>
		<p:message for="description"/>
		
		
		
	</p:panelGrid>
		<br/><br/>
		<p:dataTable value="#{glossaryBean.italianItems}" var="item" id="italian_terms" tableStyle="width: 100%">
		<f:facet name="header">
		Italian Terms
		</f:facet>
		
				<p:column headerText="Term IT">
					
				<h:inputText id="termIt" value='#{item.value}' />
				</p:column>
				<p:column headerText="Use">
					
					<p:selectCheckboxMenu id="use" value="#{item.selectedUses}" styleClass="panel" label="Uses" filter="true" filterMatchMode="startsWith" >
           		 <f:selectItems value="#{glossaryBean.uses}" />
        </p:selectCheckboxMenu>
				
				</p:column>
				<p:column headerText="Pronounciation">
				
				<h:inputText id="pron" value='#{item.pronounciation}' />
				</p:column>
				<p:column headerText="Acronym">
				
				<h:inputText id="acro" value='#{item.acronym}' />
				</p:column>
				<p:column headerText="Reference">
				
				<p:selectOneMenu id="ref" value="#{item.references}" autoWidth="false">
				<f:selectItem itemValue="#{null}" itemLabel="--select--" />
				<f:selectItem itemValue="Wikipedia" itemLabel="Wikipedia"></f:selectItem>
				<f:selectItem itemValue="Encyclopaedia" itemLabel="other encyclopaedia"></f:selectItem>
				<f:selectItem itemValue="monolingual dictionary" itemLabel="monoligual dictionary"></f:selectItem>
				<f:selectItem itemValue="bilingual dictionary" itemLabel="bilingual dictionary"></f:selectItem>
				<f:selectItem itemValue="scientific/academic publication" itemLabel="scientific/academic publication"></f:selectItem>
				<f:selectItem itemValue="institutional website" itemLabel="institutional website"></f:selectItem>
				<f:selectItem itemValue="glossary" itemLabel="glossary"></f:selectItem>
				<f:selectItem itemValue="linguee e reverso" itemLabel="linguee e reverso"></f:selectItem>
				<f:selectItem itemValue="patient's websites and blogs" itemLabel="patient's websites and blogs"></f:selectItem>
				<f:selectItem itemValue="other" itemLabel="other"></f:selectItem>
				</p:selectOneMenu>
				</p:column>
				<p:column headerText="Phraseology">
				
				<h:inputText id="phras" value="#{item.phraseology}" />
			
			</p:column>
			<p:column>
			<p:commandLink  actionListener="#{glossaryBean.removeIt(item)}" update=":italian_terms" >
			<f:ajax execute="italian_terms"/>
			<h:graphicImage value="/resources/icon/silk/delete.png" width="16" height="16" alt="#{msg.delete}"/>
		</p:commandLink>
		</p:column>
				
		</p:dataTable>
		<br/>
		<p:commandButton value="Add Synonym" action="#{glossaryBean.addIt}" styleClass="greenbutton" update=":glossary_add :italian_terms">
			<f:ajax execute="italian_terms"/>
		</p:commandButton>
		
		<br/><br/>
		
		
		<p:dataTable value="#{glossaryBean.ukItems}" var="item" id="uk_terms" tableStyle="width:100%">
		<f:facet name="header">
		English Terms
		</f:facet>
		
		<p:column headerText="Term UK">
				
				
				<h:inputText id="termuk" value='#{item.value}' />
				</p:column>
				<p:column headerText="Use">
					<p:selectCheckboxMenu id="use" value="#{item.selectedUses}" styleClass="panel" label="Uses" filter="true" filterMatchMode="startsWith" >
           		 <f:selectItems value="#{glossaryBean.uses}" />
           		  </p:selectCheckboxMenu>
				</p:column>
				<p:column headerText="Pronounciation">
				
				<h:inputText id="pron_uk" value='#{item.pronounciation}' />
				</p:column>
				<p:column headerText="Acronym">
				
				<h:inputText id="acro_uk" value='#{item.acronym}' />
				</p:column>
				
				<p:column headerText="Reference">
				<p:selectOneMenu id="ref_uk" value="#{item.references}" autoWidth="false">
				<f:selectItem itemValue="#{null}" itemLabel="--select--" />
				<f:selectItem itemValue="Wikipedia" itemLabel="Wikipedia"></f:selectItem>
				<f:selectItem itemValue="Encyclopaedia" itemLabel="other encyclopaedia"></f:selectItem>
				<f:selectItem itemValue="monolingual dictionary" itemLabel="monoligual dictionary"></f:selectItem>
				<f:selectItem itemValue="bilingual dictionary" itemLabel="bilingual dictionary"></f:selectItem>
				<f:selectItem itemValue="scientific/academic publication" itemLabel="scientific/academic publication"></f:selectItem>
				<f:selectItem itemValue="institutional website" itemLabel="institutional website"></f:selectItem>
				<f:selectItem itemValue="glossary" itemLabel="glossary"></f:selectItem>
				<f:selectItem itemValue="linguee e reverso" itemLabel="linguee e reverso"></f:selectItem>
				<f:selectItem itemValue="patient's websites and blogs" itemLabel="patient's websites and blogs"></f:selectItem>
				<f:selectItem itemValue="other" itemLabel="other"></f:selectItem>
				</p:selectOneMenu>
				</p:column>
				
				<p:column headerText="Phraseology">
				
				<h:inputText id="phrase_uk" value="#{item.phraseology}" />
			</p:column>
			<p:column>
			<p:commandLink  actionListener="#{glossaryBean.removeUk(item)}" update=":uk_terms" >
			<f:ajax execute="uk_terms"/>
			<h:graphicImage value="/resources/icon/silk/delete.png" width="16" height="16" alt="#{msg.delete}"/>
		</p:commandLink>
		</p:column>
			
		</p:dataTable>
		<br/>
		<p:commandButton value="Add synonym" action="#{glossaryBean.addUk}" styleClass="greenbutton" update=":glossary_add :uk_terms">
			<f:ajax execute="uk_terms"/>
		</p:commandButton>
		<br/><br/>
		
    <p:commandButton value="Submit" action="#{glossaryBean.upload}" styleClass="greenbutton resource_button" >
    	 <f:ajax execute="@form" render="@form" />
    	 </p:commandButton>
    <br/><br/>
	</h:form>
	</div>
	

</ui:define>
</ui:composition>
</html>