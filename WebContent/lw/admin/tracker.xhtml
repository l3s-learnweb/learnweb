<ui:composition 
	template="/WEB-INF/templates/layout/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:param name="loginRequired" value="true"/>
	<ui:param name="pageTitle" value="Tracker"/>

	<ui:define name="sub_breadcrumb">
		<p:menuitem value="Tracker" url="admin/tracker.jsf"/>
	</ui:define>

	<ui:define name="center_layout">
		<h:form>
			<p:dataTable tableStyleClass="table-sm table-responsive" value="#{dashboard.trackerStatistics}" var="entry">
				<f:facet name="header">
					Tracker Statistic
				</f:facet>

				<p:columnGroup type="header">
					<p:row>
						<p:column colspan="2" headerText="User" />
						<p:column colspan="5" headerText="Learnweb+Proxy (summarized)" />
						<p:column colspan="5" headerText="Learnweb" />
						<p:column colspan="5" headerText="Proxy" />
					</p:row>

					<p:row>
						<p:column headerText="User" sortBy="#{entry['user'].username}" />
						<p:column headerText="Grade" sortBy="#{entry['user'].additionalInformation}" />	
						
						<p:column headerText="Time Stay" sortBy="#{entry['summarized'].timeStay}" />
						<p:column headerText="Time Active" sortBy="#{entry['summarized'].timeActive}" />
						<p:column headerText="Clicks" sortBy="#{entry['summarized'].clicks}" />
						<p:column headerText="Keypresses" sortBy="#{entry['summarized'].keypresses}" />
						<p:column headerText="Total Events" sortBy="#{entry['summarized'].totalEvents}" />	
						
						<p:column headerText="Time Stay" sortBy="#{entry['learnweb'].timeStay}" />
						<p:column headerText="Time Active" sortBy="#{entry['learnweb'].timeActive}" />
						<p:column headerText="Clicks" sortBy="#{entry['learnweb'].clicks}" />
						<p:column headerText="Keypresses" sortBy="#{entry['learnweb'].keypresses}" />
						<p:column headerText="Total Events" sortBy="#{entry['learnweb'].totalEvents}" />						
						
						<p:column headerText="Time Stay" sortBy="#{entry['proxy'].timeStay}" />
						<p:column headerText="Time Active" sortBy="#{entry['proxy'].timeActive}" />
						<p:column headerText="Clicks" sortBy="#{entry['proxy'].clicks}" />
						<p:column headerText="Keypresses" sortBy="#{entry['proxy'].keypresses}" />
						<p:column headerText="Total Events" sortBy="#{entry['proxy'].totalEvents}" />						
					</p:row>
				</p:columnGroup>
				 
				<p:column headerText="User">
					<h:outputText value="#{entry['user'].id}" />
				</p:column>

				<p:column headerText="Grade">
					<h:outputText value="#{entry['user'].additionalInformation}" />
				</p:column>			
				
				<p:column headerText="Time Stay">
					<h:outputText value="#{entry['summarized'].timeStayFormatted}" />
				</p:column>

				<p:column headerText="Time Active">
					<h:outputText value="#{entry['summarized'].timeActiveFormatted}" />
				</p:column>

				<p:column headerText="Clicks">
					<h:outputText value="#{entry['summarized'].clicks}" />
				</p:column>

				<p:column headerText="Keypresses">
					<h:outputText value="#{entry['summarized'].keypresses}" />
				</p:column>

				<p:column headerText="Total Events"  >
					<h:outputText value="#{entry['summarized'].totalEvents}" />
				</p:column>		
				
				<p:column headerText="Time Stay">
					<h:outputText value="#{entry['learnweb'].timeStayFormatted}" />
				</p:column>

				<p:column headerText="Time Active">
					<h:outputText value="#{entry['learnweb'].timeActiveFormatted}" />
				</p:column>

				<p:column headerText="Clicks">
					<h:outputText value="#{entry['learnweb'].clicks}" />
				</p:column>

				<p:column headerText="Keypresses">
					<h:outputText value="#{entry['learnweb'].keypresses}" />
				</p:column>

				<p:column headerText="Total Events"  >
					<h:outputText value="#{entry['learnweb'].totalEvents}" />
				</p:column>		
				
				<p:column headerText="Time Stay">
					<h:outputText value="#{entry['proxy'].timeStayFormatted}" />
				</p:column>

				<p:column headerText="Time Active">
					<h:outputText value="#{entry['proxy'].timeActiveFormatted}" />
				</p:column>

				<p:column headerText="Clicks">
					<h:outputText value="#{entry['proxy'].clicks}" />
				</p:column>

				<p:column headerText="Keypresses">
					<h:outputText value="#{entry['proxy'].keypresses}" />
				</p:column>

				<p:column headerText="Total Events"  >
					<h:outputText value="#{entry['proxy'].totalEvents}" />
				</p:column>
			</p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>