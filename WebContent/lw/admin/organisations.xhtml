<ui:composition 
	template="/WEB-INF/templates/layout/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:param name="loginRequired" value="true"/>
	<ui:param name="pageTitle" value="#{msg.organization}"/>
	
	

	<ui:define name="content">

        <div class="page-header">
            <h1>#{msg.organization}</h1>
        </div>
	
		<h:form id="organisationform">
			<p:dataTable var="organisation" value="#{adminOrganisationsBean.organisations}"  >
				<p:column headerText="#{msg.title}" sortBy="#{organisation.title}">
					<h:outputText value="#{organisation.title}" />		
				</p:column>	
				
				<p:column headerText="id" sortable="true" sortBy="#{organisation.id}">
					<h:outputText value="#{organisation.id}" />
				</p:column>	
				
				
				<p:column headerText="Welcome Page" >
					<h:outputText value="#{organisation.welcomePage}" />						
				</p:column>	
				
				<p:column style="width: 13%;" styleClass="organizations-column" headerText="#{msg.edit}">
					<p:commandButton action="organisation" value="#{msg.edit}" ajax="false">
						<f:setPropertyActionListener target="#{adminOrganisationsBean.selectedOrganisation}" value="#{organisation}" />				
					</p:commandButton>			
				</p:column>	
				
			</p:dataTable>	
		</h:form>
		
		<br/>
		
	</ui:define>
</ui:composition>