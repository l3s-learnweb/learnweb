<ui:composition template="/WEB-INF/templates/layout/template.xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:p="http://primefaces.org/ui"
				xmlns:lw="http://l3s.de/learnweb">


<ui:param name="pageTitle" value="#{msg.announcements}"/>

<ui:define name="metadata">
	<f:metadata>
		<f:viewParam name="announcement_id" value="#{adminAnnouncementBean.announcementId}" required="true" requiredMessage="#{msg.missing_parameter}"/>
		<f:viewAction action="#{adminAnnouncementBean.onLoad}"/>
	</f:metadata>
</ui:define>

<ui:define name="breadcrumb">
	<lw:breadcrumb-item link="admin/index.jsf" title="#{msg.admin}">
		<ui:decorate template="/WEB-INF/templates/blocks/breadcrumb/nav_list_first.xhtml"/>
	</lw:breadcrumb-item>

	<lw:breadcrumb-item link="admin/announcements.jsf" title="#{msg.announcements}">
		<ui:decorate template="/WEB-INF/templates/blocks/breadcrumb/nav_list_admin.xhtml"/>
	</lw:breadcrumb-item>

	<lw:breadcrumb-item title="#{adminAnnouncementBean.pageTitle}"/>
</ui:define>

<ui:define name="center_layout">
	<h:form rendered="#{adminAnnouncementBean.announcement ne null}">
		<p:panel>
			<div class="form-group">
				<p:outputLabel for="@next" value="#{msg.title}:"/>
				<p:inputText value="#{adminAnnouncementBean.announcement.title}" label="#{msg.title}"/>
				<p:message for="@previous"/>
			</div>

			<div class="form-group">
				<p:outputLabel for="@next" value="#{msg.date}:"/>
				<p:datePicker value="#{adminAnnouncementBean.announcement.createdAt}" label="#{msg.date}" locale="#{userBean.locale}" pattern="dd.MM.yyyy" showIcon="true"/>
				<p:message for="@previous"/>
			</div>

			<div class="form-group">
				<p:textEditor height="200" value="#{adminAnnouncementBean.announcement.text}" label="#{msg.description}">
					<f:facet name="toolbar">
						<span class="ql-formats">
							<select class="ql-font"></select>
							<select class="ql-size"></select>
						</span>

						<span class="ql-formats">
							<button class="ql-bold"></button>
							<button class="ql-italic"></button>
							<button class="ql-underline"></button>
							<button class="ql-strike"></button>
							<button class="ql-link"></button>
						</span>
					</f:facet>
				</p:textEditor>
			</div>

			<div class="form-group">
				<p:selectBooleanCheckbox value="#{adminAnnouncementBean.announcement.hidden}" itemLabel="#{msg.hide}"/>
			</div>

			<p:commandButton action="#{adminAnnouncementBean.onSave}" value="#{msg.save}" ajax="false" />
		</p:panel>
	</h:form>
</ui:define>

</ui:composition>
