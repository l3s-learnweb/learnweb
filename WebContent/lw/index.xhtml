<ui:composition template="/WEB-INF/templates/layout/template.xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

<ui:param name="pageTitle" value="#{msg.homepageTitle}"/>
<ui:param name="disableGrowl" value="true"/>

    <ui:define name="center_layout">
    <h:outputStylesheet name="frontpage/index.css"/>

    <div class="content_box" style="height: 600px; ">
        <h1>
            #{msg.homepageTitle}
        </h1>

        <h:outputText value="#{msg.homepage}" styleClass="homepage_infotext"/>

        <div id="div_left">
            <ui:fragment rendered="#{!userBean.loggedIn}">

                <h2 class="page_header">
                    #{msg.loginLabel}
                </h2>
                <h:form class="grey_border" style="background-color: transparent;">
                    <p:focus for="username"/>
                    <h:panelGrid columns="1">
                        <h:outputLabel for="username" value="#{msg.username}:"/>
                        <p:inputText id="username" value="#{loginBean.username}" label="#{msg.username}" styleClass="inputbox"/>

                        <h:outputLabel for="password" value="#{msg.password}:"/>
                        <p:password id="password" value="#{loginBean.password}" feedback="false" label="#{msg.password}" styleClass="inputbox"/>

                        <h:panelGroup style="transform:scale(0.87);-webkit-transform:scale(0.87);transform-origin:0 0;-webkit-transform-origin:0 0;">
                            <p:captcha label="Captcha" rendered="#{loginBean.captchaRequired}" language="#{userBean.locale}" id="captcha"/>
                        </h:panelGroup>

                        <p:commandButton styleClass="greenbutton" action="#{loginBean.login()}" value="#{msg.loginLabel}" ajax="false"
                                         style="margin-top:5px;"/>

                    </h:panelGrid>
                    <br/>
                    <h:outputLink class="forgotten_password" value="user/password.jsf">
                        <h:outputText value="#{msg.forgotten_password}"/>
                    </h:outputLink>
                </h:form>
            </ui:fragment>

            <div>
                <h2 class="page_header">
                    #{msg.presentation_guide}
                </h2>
                <ui:include src="/templates/user/guide.xhtml"/>
            </div>
        </div>


        <div id="div_right">
            <ui:fragment rendered="#{!userBean.loggedIn}">

                <h2 class="page_header">
                    #{msg['ArchiveWeb.sign_up']}
                </h2>

                <div class="grey_border" style="background-color: transparent;">
                    <p><h:outputText value="#{msg['ArchiveWeb.sign_up_description']}"/></p>
                    <h:form id="registerform">
                        <h:panelGrid columns="3">
                            <h:outputLabel for="register_username" value="#{msg.username}: *"/>
                            <p:inputText id="register_username" value="#{archiveWebRegistrationBean.username}"
                                         validator="#{archiveWebRegistrationBean.validateUsername}" label="#{msg.username}"/>
                            <p:message showSummary="true" showDetail="false"
                                       styleClass="error" for="register_username" id="usernameMessage"/>

                            <h:outputLabel for="register_password" value="#{msg.password}: *"/>
                            <p:password id="register_password" value="#{archiveWebRegistrationBean.password}"
                                        autocomplete="false" label="#{msg.password}">
                            </p:password>
                            <p:message id="passwordMessage" showSummary="true"
                                       showDetail="false" styleClass="error" for="register_password"/>

                            <h:outputLabel for="email" value="#{msg.email_address}: *"/>
                            <p:inputText id="email" value="#{archiveWebRegistrationBean.email}"
                                         label="#{msg.email_address}"/>
                            <p:message id="emailMessage" showSummary="true"
                                       showDetail="false" styleClass="error" for="email"/>

                            <h:outputLabel for="affiliation" value="#{msg.affiliation}: *"/>
                            <p:inputText id="affiliation" value="#{archiveWebRegistrationBean.affiliation}"
                                         label="#{msg.affiliation}"/>
                            <p:message id="affiliationMessage" showSummary="true"
                                       showDetail="false" styleClass="error" for="affiliation"/>

                            <h:outputLabel for="description" value="#{msg.comment}:"/>
                            <p:inputTextarea id="description" value="#{archiveWebRegistrationBean.description}"
                                             label="#{msg.description}" rows="5" cols="50"/>
                            <p:message id="descriptionMessage" showSummary="true"
                                       showDetail="false" styleClass="error" for="description"/>

                            <h:outputText value=""/>
                            <p:commandButton action="#{archiveWebRegistrationBean.sendMail}"
                                             value="#{msg['ArchiveWeb.send_request']}" ajax="false"/>
                            <h:outputText value=""/>
                        </h:panelGrid>
                        <br/>
                        <h:outputText value="* #{msg.mandatory_field}"/>
                    </h:form>
                </div>
                <br/>
            </ui:fragment>


            <ui:fragment rendered="#{false and !userBean.loggedIn}">

                <h2 class="page_header">
                    #{msg.sign_up_for}:
                </h2>

                <div class="grey_border"  style="background-color: transparent;">
                    <h3>
                        <h:outputText value="#{msg.public_courses}"/>
                    </h3>

                    <h:panelGrid columns="2" columnClasses="first_column,description">
                        <h:outputLink styleClass="greenbutton" value="user/register.jsf">
                            <h:outputText value="#{msg.standard_version}"/>
                        </h:outputLink>

                        <h:outputText value="#{msg.standard_version_description}"/>
                    </h:panelGrid>

                    <h3>
                        <h:outputText value="#{msg.specific_courses}"/>
                    </h3>

                    <h:panelGrid columns="2" columnClasses="first_column,description">
                        <h:outputLink styleClass="greenbutton" value="user/register.jsf">
                            <h:outputText value="YELL"/>
                            <f:param name="wizard" value="yell"/>
                        </h:outputLink>

                        <h:outputText value="#{msg.yell_description}"/>
                    </h:panelGrid>
                </div>
                <br/>
            </ui:fragment>

            <ui:remove>
                <h2 class="page_header">
                    #{msg['Changelog.title']}
                </h2>

                <div class="grey_border">
                    <h4>
                        <h:outputText value="${utilBean.StringToDate('16.10.2015')}">
                            <f:convertDateTime type="date" dateStyle="long" timeZone="#{userBean.timeZone}"/>
                        </h:outputText>
                    </h4>
                    <h:panelGrid columns="2" columnClasses="first_column,description">
                        <h:outputText value="#{msg['Changelog.search_filters']}:" class="changes"/>
                        <h:outputText value="#{msg['Changelog.2015_10_search_filters_description']}"/>

                        <h:outputText value="#{msg['Changelog.group_search']}:" class="changes"/>
                        <h:outputText value="#{msg['Changelog.2015_10_group_search_description']}"/>

                        <h:outputText value="#{msg['Changelog.group_options']}:" class="changes"/>
                        <h:outputText value="#{msg['Changelog.2015_10_group_options_description']}"/>

                        <h:outputText value="#{msg['Changelog.forum']}:" class="changes"/>
                        <h:outputText value="#{msg['Changelog.2015_10_forum_description']}"/>
                    </h:panelGrid>

                    <h4>
                        <h:outputText value="${utilBean.StringToDate('20.7.2015')}">
                            <f:convertDateTime type="date" dateStyle="long" timeZone="#{userBean.timeZone}"/>
                        </h:outputText>
                    </h4>
                    <h:panelGrid columns="2" columnClasses="first_column,description">
                        <h:outputText value="#{msg['Changelog.tooltips']}:" class="changes"/>
                        <h:outputText value="#{msg['Changelog.2015_07_tooltips_description']}"/>

                        <h:outputText value="#{msg['Changelog.notifications']}:" class="changes"/>
                        <h:outputText value="#{msg['Changelog.2015_07_notification_description']}"/>

                        <h:outputText value="#{msg.text_analysis}:" class="changes"/>
                        <h:outputText value="#{msg['Changelog.2015_07_text_analysis_description']}" escape="false" id="link"/>

                    </h:panelGrid>
                </div>
            </ui:remove>
        </div>

        <br class="clear"/>

    </div>

</ui:define>

</ui:composition>
