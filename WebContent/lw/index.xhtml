<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<f:view locale="#{userBean.localeCode}" contentType="text/html">

	<h:head>	
		<title><h:outputText value="#{msg.homepageTitle}" escape="false" /></title>
		<base href="#{learnwebBean.baseUrl}" />
		<link rel="stylesheet" type="text/css" href="#{learnwebBean.baseUrl}../resources/css/login.css" />
	</h:head>

	<h:body>
	
	
		
		<div class="info">
		<div style="position:relative;max-width:550px; height:20%; top:20px; margin-left:auto; margin-right:auto;text-align: justify;">
		
		<h:outputText value="#{msg.homepageTitle}" style="font-weight: bold; font-family: sans-serif;font-size:larger;display:inline-block; "></h:outputText>
		<div style="display:inline-block; margin-left: 15px; ">
			<h:form id="search_form">
									
									<style>
										span.ui-autocomplete
										{
											border: 1px solid transparent !important;
										}
										.ui-autocomplete-panel
										{
											border-radius: 0px !important;
										}
										.ui-autocomplete-row td
										{
											border: 0px solid transparent !important;
										}
										.ui-autocomplete-row.ui-state-highlight
										{
											border: 0px !important;
											background: #dedede !important;
											color: black;
											text-shadow: 0px 0px 0px #fff;
										}
										.ui-autocomplete-panel
										{
											border: 0px !important;
										}
									</style>
									
									<p:autoComplete id="searchbar" size="12" cache="true" cacheTimeout="30000"  
                    					value="#{searchBean.query}" completeMethod="#{autoCompleteBean.complete}" styleClass=""
                    					var="s" itemLabel="#{s}" itemValue="#{s.query}">
                    					<p:column style="width: 22px; padding: 6px">
                    						<p:graphicImage rendered="#{s.source eq 'google'}" width="22" height="22" value="/resources/icon/google-logo.png"></p:graphicImage>
                    						<p:graphicImage rendered="#{s.source eq 'learnweb'}" width="22" height="22" value="/resources/icon/lw-logo.png"></p:graphicImage>
                    					</p:column>
                    					<p:column style="text-align: left; padding-left: 0px">
                    						<p:outputLabel escape="false" value="#{s.query}"></p:outputLabel>
                    					</p:column>
                    					<p:column style="text-align: right">
                    						<h:outputText title="#{s.results} resource(s) stored with this query in LearnWeb" style="cursor: default" rendered="#{s.source eq 'learnweb'}" value="#{s.results} resource(s)"></h:outputText>
                    					</p:column>
                    				</p:autoComplete>

									<p:commandButton icon="ui-icon-search" 
										styleClass="greenbutton submitsearch" action="#{searchBean.onSearch()}"
										ajax="false" >
									</p:commandButton>

								</h:form> 
		</div>
		<br></br>	
		
		<br></br>
		<h:outputText value="#{msg.homepage}" style="font-family: sans-serif;font-size:medium; display:block; "></h:outputText>
		<br />
		<div style="display:block;">
		<h:form rendered="#{!userBean.loggedIn}" id="loginform" style="width: 260px;position: relative; height: inherit;top: 5%;padding-left: 10px;padding-right: 10px;display: inline-block;border-right: 1px solid #489a83;">
			<p:focus for="username"/>
			<h:panelGrid columns="3">
				
				<h:graphicImage for="username" url="../resources/icon/user.png" title="#{msg.username}" height="30" width="30"></h:graphicImage>
				<p:inputText id="username" styleClass="inputbox" value="#{loginBean.username}" ></p:inputText>
				<p:message showSummary="true" showDetail="false" styleClass="error" for="username" />
				
				
				<h:graphicImage for="password" url="../resources/icon/pwd.png" height="20" width="20" title="#{msg.password}" style="padding-left:4px;"></h:graphicImage>
				<p:inputText type="password" styleClass="inputbox" id="password" value="#{loginBean.password}" feedback="false"></p:inputText>
				
				<p:message showSummary="true" showDetail="false" styleClass="error" for="password" />
				
				<h:outputText value="" />
				<h:commandButton styleClass="greenbutton" action="#{loginBean.login()}" value="#{msg.loginLabel}" ajax="false" />	
				
			</h:panelGrid>
			<br></br>
			<h:outputLink id="forgot" style="color:white;  font-family: sans-serif;" value="user/password.jsf"><h:outputText value="#{msg.forgotten_password}"/></h:outputLink>
		</h:form>
		<h:form style="width: 200px;    margin-left:30px;    display: inline-block;     vertical-align: top;    ">
		<div>
		<h:outputText  value="Sign up for " style="display:inline-block;"></h:outputText>
		<h:outputLink   styleClass="greenbutton" style="display:inline-block; text-decoration:none; margin-left:5px;" value="user/register.jsf"><h:outputText value="YELL"></h:outputText>
		<f:param name="wizard" value="yell"></f:param>
		</h:outputLink>
		</div>
		<br/>
		<h:commandButton id="register"  onclick="dlg.show(); return false;" styleClass="greenbutton" value="I'm a new user!" style=" display:block; margin-left:10px;"></h:commandButton>
		<br/>
		<br/>
		<p:lightBox>
	        <h:outputLink value="#" style="color:white;  font-family: sans-serif;">
	            <h:outputText value="Video guide"/>
	        </h:outputLink>
	        <f:facet name="inline">
	            <p:media id="youTubeMedia" value="https://www.youtube.com/v/hWA-YdiHIWw" width="1000" height="563" player="flash" />
	        </f:facet>
	    </p:lightBox>
	    
		</h:form>
		
		</div>
			
		
		
		</div>
		</div>
		
		<div  class="footer">
		<h:outputText value="LearnWeb V4 developed and maintained by L3S Research Centre, Hannover, Germany. For details please contact:  " style="display:inline-block; padding-top:4px;"></h:outputText>
		<h:outputText value="learnweb-support@l3s.de" style="display:inline-block; margin-left:3px; padding-top:4px; color:#EFEFEF;"></h:outputText>
		
		</div>
		
		
		
		
		
		<p:dialog header="#{msg.homepageTitle}" widgetVar="dlg" resizable="true" modal="true">  
    	 
    	 
    	 	
			<h:form id="registerform" >
	
			<input type="hidden" name="wizard" value="#{registrationBean.wizard}" />
				<h:panelGrid columns="3">					
					<h:outputLabel for="username" value="#{msg.username}: *" />
					<p:inputText id="username" value="#{registrationBean.username}" validator="#{registrationBean.validateUsername}">
					
					</p:inputText>
					<p:message showSummary="true" showDetail="false" styleClass="error" for="username" id="usernameMessage" />

					<h:outputLabel for="password" value="#{msg.password}: *" />
					<p:password id="password" value="#{registrationBean.password}" autocomplete="false" promptLabel="#{msg.passwordStrength_prompt}" weakLabel="#{msg.passwordStrength_weak}"
						goodLabel="#{msg.passwordStrength_good}" strongLabel="#{msg.passwordStrength_strong}">
					
					</p:password>
					<p:message id="passwordMessage" showSummary="true" showDetail="false" styleClass="error" for="password" />

					<h:outputLabel for="confirm_password" value="#{msg.confirm_password}: *" />
					<p:password id="confirm_password" value="#{registrationBean.confirmPassword}" validator="#{registrationBean.validatePassword}" promptLabel="#{msg.passwordStrength_prompt}" weakLabel="#{msg.passwordStrength_weak}"
						goodLabel="#{msg.passwordStrength_good}" strongLabel="#{msg.passwordStrength_strong}">
					
					</p:password>
					<p:message id="confirmPasswordMessage" showSummary="true" showDetail="false" styleClass="error" for="confirm_password" />

					<h:outputLabel for="email" value="#{msg.email_address}:" />
					<p:inputText id="email" value="#{registrationBean.email}">
					
					</p:inputText>
					<p:message id="emailMessage" showSummary="true" showDetail="false" styleClass="error" for="email" />

					<h:outputText value="" />
					<h:commandButton action="#{registrationBean.register}" value="#{msg.registerLabel}" ajax="false" styleClass="greenbutton">
						
					</h:commandButton>
				</h:panelGrid>
				<h:outputText value="* #{msg.mandatory_field}" />
			</h:form>
			
		</p:dialog>  
	</h:body>
</f:view>
</html>