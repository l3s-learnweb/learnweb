<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/lw/templates/new_main_t.xhtml"> 

	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="user_id" value="#{userDetailBean.userId}" required="true" />
		
			<f:event type="javax.faces.event.PreRenderViewEvent" listener="#{userDetailBean.loadUser}" />
		</f:metadata>
	</ui:define>

	<ui:param name="loginRequired" value="true" />
	<ui:param name="pageTitle" value="#{msg.myProfileTitle}" />
	<ui:param name="smallPage" value="true" />

	<ui:define name="center_layout">
		<div class="page_header">
			<span>
				#{msg.last_activities}
			</span> 
			#{msg.of} #{userDetailBean.user.username}
		</div>
		<h:panelGroup id="profile_news">		
			<ui:decorate template="/templates/user/logs.xhtml">
				<ui:param name="news" value="#{newsFeedBean.newslist}"/>
			</ui:decorate >
		</h:panelGroup>
	</ui:define>
	
	
	<ui:define name="right_layout">

		<p:layoutUnit position="east" size="38%" resizable="false" closable="false" 
			collapsible="false" style="border: none;" id="right_pane" rendered="#{userBean.loggedIn}">
			<div style="width:90%; position:relative; margin-left:auto; margin-right:auto;">
			
				<ui:decorate template="/templates/user/profile.xhtml">
					<ui:param name="user" value="#{userDetailBean.user}" />		
				</ui:decorate>
				
			</div>
		</p:layoutUnit>
	</ui:define>
</ui:composition>
</html>