<!DOCTYPE html>
<html 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/layout/template.xhtml">

	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="user_id" value="#{userDetailBean.userId}" required="true" />
			<f:viewAction action="#{userDetailBean.loadUser}"/>
		</f:metadata>
	</ui:define>

	<ui:param name="loginRequired" value="true" />
	<ui:param name="pageTitle" value="#{msg.myProfileTitle}" />
	<ui:param name="smallPage" value="true" />
	<ui:param name="rightPane" value="true"/>
	<ui:define name="sub_breadcrumb">
		<p:menuitem value="#{msg.myProfileTitle} #{msg.of} #{userDetailBean.user.username}" url="user/detail.jsf?user_id=#{userDetailBean.user.id}"/>
	</ui:define>
	<ui:define name="center_layout">
		<p:panel header="#{msg.last_activities}" styleClass="m-0">
		<h:outputText value="This information is hidden due to the privacy settings of your organization." rendered="#{userDetailBean.pageHidden}" />
		<h:panelGroup id="profile_news" rendered="#{not userDetailBean.pageHidden}">		
			<ui:decorate template="/templates/user/logs.xhtml">
				<ui:param name="news" value="#{newsFeedBean.newsList}"/>
			</ui:decorate >
		</h:panelGroup>
		</p:panel>
	</ui:define>
	
	
	<ui:define name="right_layout">

		<p:panel rendered="#{userBean.loggedIn}" styleClass="m-0 pl-0 pr-0 no-padding-panel-content bg-transparent no-border">

			<h:outputText value="This information is hidden due to the privacy settings of your organization." rendered="#{userDetailBean.pageHidden}" />

			
				<ui:decorate template="/templates/user/profile.xhtml">
					<ui:param name="user" value="#{userDetailBean.user}" />		
				</ui:decorate>

		</p:panel>
	</ui:define>
</ui:composition>
</html>