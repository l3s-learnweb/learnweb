<html xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:p="http://primefaces.org/ui">
      
<ui:composition>
	<style type="text/css">			
		#archive_searchfield {
		    float: left;
		    margin-left: 23rem;
		    font-size: 1.8rem !important;
		    position: relative;
		    top: 50%;
		    height: 3.4rem;
		    margin-top: -1.7rem;
		   	border: medium none !important;
		}
			
		#archive_searchfield_input {		 
		    font-size: 1.8rem !important;
		    width: 36rem;		   
		    height: 3.4rem;		    
		    padding: 0px 1rem;
		    border: medium none !important;
		    background-color: #F7F7F7;
		    outline: medium none;
		}
		.aboutstyle {
			width:450px; 
			height:300px; 
			float:left;
			
			margin-right: 40px
			
		}
		
		.aboutstyle h3{
		
			font-size:2rem;
			padding:40px 10px 10px 0px;
		}
		.aboutstyle h4{
		
			padding:10px 5px 5px 0px;
		}	
		
	</style>
	<script type="text/javascript">
	function checkQuery()
	{
		var query = $('#archive_searchfield_input').val();
		
		if(query.length == 0)
		{
			alert('#{msg['ArchiveSearch.select_suggested_entity']}');
			return false;
		}
		
		return true;
	}
	</script>
	<header id="header">
		<div id="main_menu_bar">			
		
			<img src="#{request.contextPath}/resources/main-template/img/ajax-loader.gif" alt="Loading" id="loadingsymbol"/>
			<p:ajaxStatus onstart="document.getElementById('loadingsymbol').style.visibility='visible';" 
				onsuccess="document.getElementById('loadingsymbol').style.visibility='hidden';" />			
		 
			<h:form id="searchform" prependId="false" onsubmit="return checkQuery();" acceptcharset="UTF-8">
				<a href="/archive/search.jsf" id="learnweb_logo">
					Logo
				</a>
				<p:autoComplete  queryDelay="50" forceSelection="true" value="#{archiveDemoBean.query}" completeMethod="#{archiveDemoBean.completeQuery}" id="archive_searchfield" placeholder="#{msg['ArchiveSearch.search_placeholder']}">
					<p:ajax event="itemSelect" oncomplete="$('#searchbutton').click()"  />
				</p:autoComplete>		
				<h:commandButton value=" " action="#{archiveDemoBean.onSearch}" id="searchbutton" title="#{msg.searchLabel}"/>
			</h:form>
		
			
			<div id="language_selector" class="hover-white" tabindex="0">
				<img alt="#{userBean.localeCode}" src="#{request.contextPath}/resources/main-template/img/flag_archive_#{userBean.localeCode}.png" />

				<h:form>
					<ul>
						<li>
							<h:link includeViewParams="true" outcome="search" value="Deutsch" styleClass="language_de">
								<f:param name="lang" value="de"/>
							</h:link>
						</li>
						<li>
							<h:link includeViewParams="true" outcome="search" value="English" styleClass="language_us">
								<f:param name="lang" value="en"/>
							</h:link>	
						</li>						
					</ul>
				</h:form>
			</div>
						
			<p:graphicImage value="/resources/main-template/img/question.png" alt="#{msg.help}" title="#{msg.help}" onclick="PF('about_dlg').show();" id="informationonscreen" />
				
				
			<p:dialog header="#{msg['ArchiveSearch.about.title']}" widgetVar="about_dlg">
			
				<div Style="width:1010px; height:500px; margin: 0px; padding: opx;">
				
						<div align="center">
							<h2>Archive Search</h2>
						</div>
						
						<div class="aboutstyle">
							<div id="about_description">
								<div>
									<h3>
									<h:outputText value="#{msg['ArchiveSearch.about.description.title']}"></h:outputText>
									</h3>
								</div>
								<div>
									<h:outputText value="#{msg['ArchiveSearch.about.description.value']}"></h:outputText>
								</div>
							</div>
							<div id="about_howto">
								<div>
									<h3>
									<h:outputText value="#{msg['ArchiveSearch.about.how_to.title']}"></h:outputText>
									</h3>
								</div>								
								<div>									
									<h:outputText value="#{msg['ArchiveSearch.about.how_to.description']}"></h:outputText>									
								</div>
								<div>
									<div>
										<div>
											<h4>
												<h:outputText value="#{msg['ArchiveSearch.about.how_to.blue_link.title']}"></h:outputText>
											</h4>
										</div>
										<div>
											<h:outputText value="#{msg['ArchiveSearch.about.how_to.blue_link.value']}"></h:outputText>
										</div>
									</div>
									<div>
										<div>
										<h4>
											<h:outputText value="#{msg['ArchiveSearch.about.how_to.green_link.title']}"></h:outputText>
										</h4>
										</div>
										<div>
											<h:outputText value="#{msg['ArchiveSearch.about.how_to.green_link.value']}"></h:outputText>
										</div>
									</div>
								</div>
							</div>
							<div id="about_basedon">
								<div>
									<h3>
									<h:outputText value="#{msg['ArchiveSearch.about.basedon_link.title']}"></h:outputText>
									</h3>
								</div>
								<div>
									<h:outputText value="#{msg['ArchiveSearch.about.basedon_link.value']}"></h:outputText>								
									<a style="color:blue !important; font-weight:light; font-size:1.2rem;" href="https://www.aaai.org/Papers/Workshops/2008/WS-08-15/WS08-15-005.pdf">
										Milne and Witten
									</a>	
									
															
								</div>
							
							</div>
							
							<br/>						
						</div>
						<div style="width:500px; height:300px; float:left">
							<img src="../resources/archive-search/help_sample.jpg" />
						</div>						
				</div>
				<div align="center">
					<a href="http://alexandria-project.eu"><img src="http://alexandria-project.eu/wp-content/uploads/2015/07/alexandria_logo_rgb_small-300x233.png" height="94" width="121"  /></a>
				</div>
				<div align="right">
					<a style="color:blue !important;" href="terms_conditions.jsf">Terms and conditions</a>
				</div>
							
				
			</p:dialog>			

		</div>

		<ui:insert name="sub_menu_bar">

		</ui:insert>

	</header>

	<h:form>
		<p:ajaxExceptionHandler type="javax.faces.application.ViewExpiredException" onexception="PF('expiredExceptionDialog').show();" />

		<p:ajaxExceptionHandler type="java.lang.Exception" update="exceptionDialog" onexception="PF('exceptionDialoge').show();" />

		<p:dialog id="exceptionDialog" header="Exception '#{pfExceptionHandler.type}' occured!" widgetVar="exceptionDialog" height="500px">
	        #{msg.message}: #{pfExceptionHandler.message} 
	        <br />
	        StackTrace: 
	        <h:outputText value="#{pfExceptionHandler.formattedStackTrace}" escape="false" />
			<br />
		</p:dialog>

		<p:dialog header="#{msg.session_expired}" widgetVar="expiredExceptionDialog">
			<div class="error" style="font-size:1.4rem">
				#{msg.reload_page}
			</div>	        
	        <br/>
	        <br/>
	        <p:button onclick="document.location.href = document.location.href; return false;" value="#{msg.reload}" />	        
		</p:dialog>
	</h:form>

</ui:composition>

</html>