<html xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:p="http://primefaces.org/ui">
      
<ui:composition>
	<style type="text/css">
		#archive_searchfield {
		    float: left;
		    margin-left: 23rem;
		    font-size: 1.8rem !important;
		    position: relative;
		    top: 50%;
		    height: 3.4rem;
		    margin-top: -1.7rem;
		   	border: medium none !important;
		}
			
		#archive_searchfield_input {
		 
		    font-size: 1.8rem !important;
		    width: 36rem;
		   
		    height: 3.4rem;
		    
		    padding: 0px 1rem;
		    border: medium none !important;
		    background-color: #F7F7F7;
		    outline: medium none;
		}	
	</style>
	<script type="text/javascript">
	function checkQuery()
	{
		var query = $('#archive_searchfield_input').val();
		
		if(query.length == 0)
		{
			alert('#{msg['ArchiveSearch.select_suggested_entity']}');
			return false;
		}
		
		return true;
	}
	</script>
	<header id="header">
		<div id="main_menu_bar">			
		
			<img src="#{request.contextPath}/resources/main-template/img/ajax-loader.gif" alt="Loading" id="loadingsymbol"/>
			<p:ajaxStatus onstart="document.getElementById('loadingsymbol').style.visibility='visible';" 
				onsuccess="document.getElementById('loadingsymbol').style.visibility='hidden';" />			
		 
			<h:form method="get" id="searchform" prependId="false" onsubmit="return checkQuery();">
				<a href="/archive/search.jsf" id="learnweb_logo">
					Logo
				</a>
				<p:autoComplete forceSelection="true" value="#{archiveDemoBean.query}" completeMethod="#{archiveDemoBean.completeQuery}" id="archive_searchfield" placeholder="#{msg['ArchiveSearch.search_placeholder']}"/>	
				<input type="hidden" name="query" value="#{archiveDemoBean.query}"/>		
				<h:commandButton value=" " action="#{archiveDemoBean.onSearch}" id="searchbutton" title="#{msg.searchLabel}"/>
			</h:form>
		
			
			<div id="language_selector" class="hover-white" tabindex="0">
				<img alt="#{userBean.localeCode}" src="#{request.contextPath}/resources/main-template/img/flag_archive_#{userBean.localeCode}.png" />

				<h:form>
					<ul>
						<li>
							<h:commandLink action="#{archiveDemoBean.setMarket('de-DE')}" styleClass="language_de">
								Deutsch
							</h:commandLink>
						</li>
						<li> 
							<h:commandLink action="#{archiveDemoBean.setMarket('en-US')}" styleClass="language_us">
								English
							</h:commandLink>
						</li>
					</ul>
				</h:form>
			</div>
						
			<p:graphicImage value="/resources/main-template/img/question.png" alt="#{msg.help}" onclick="PF('about_dlg').show();" id="informationonscreen" />
				
				
			<p:dialog header="About" widgetVar="about_dlg">
			
<h2>People involved</h2>
<pre>
Felipe Reis
Nattiya Kanhabua
Philipp Kemkes
Trevor Fernando
Tu Nguyen
Wolfgang Nejdl
</pre>
<br/>
<a href="http://alexandria-project.eu"><img src="http://alexandria-project.eu/wp-content/uploads/2015/07/alexandria_logo_rgb_small-300x233.png" height="94" width="121"  /></a>

<!-- 

possible to search for any entity from the Wikipedia
gives you current results from bing which are also archived by the Internet Archive

the blue link ...
the green link ...

the shown related entities are based on paper xy

link to terms of use
 -->
			</p:dialog>			

		</div>

		<ui:insert name="sub_menu_bar">

		</ui:insert>

	</header>

	<h:form>
		<p:ajaxExceptionHandler type="javax.faces.application.ViewExpiredException" onexception="PF('expiredExceptionDialog').show();" />

		<p:ajaxExceptionHandler type="java.lang.Exception" update="exceptionDialog" onexception="PF('exceptionDialoge').show();" />

		<p:dialog id="exceptionDialog" header="Exception '#{pfExceptionHandler.type}' occured!" widgetVar="exceptionDialog" height="500px">
	        #{msg.message}: #{pfExceptionHandler.message} 
	        <br />
	        StackTrace: 
	        <h:outputText value="#{pfExceptionHandler.formattedStackTrace}" escape="false" />
			<br />
		</p:dialog>

		<p:dialog header="#{msg.session_expired}" widgetVar="expiredExceptionDialog">
			<div class="error" style="font-size:1.4rem">
				#{msg.reload_page}
			</div>	        
	        <br/>
	        <br/>
	        <p:button onclick="document.location.href = document.location.href; return false;" value="#{msg.reload}" />	        
		</p:dialog>
	</h:form>

</ui:composition>

</html>